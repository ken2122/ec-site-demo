# デモ EC サイト

## URL

https://ec-site-demo-mgdi1wzui-ken2122.vercel.app/

## テスト用アカウント

メールアドレス：a@gmail.com  
パスワード：testpass  
※デモアプリのため、アカウントの追加はお控えください。

## 使用技術

Next.js  
Redux  
TypeScript  
CSS-Modules  
CSS in JS  
Material-ui  
Firebase(Firestore,Storage)

## 使用方法

### ログイン

<img width="600" alt="ログイン画面" src="https://user-images.githubusercontent.com/78861708/119226435-0a4e3580-bb44-11eb-985c-7892f62c60eb.png">

最初にログイン画面が表示されるので、上記のパスワードを入力します。

### 商品の購入

![購入](https://user-images.githubusercontent.com/78861708/119820281-43175180-bf2c-11eb-9643-0e40831c00ec.gif)

1. トップページの商品をクリックし、商品の詳細ページに移動します。
1. 希望するサイズの隣にあるカートアイコンをクリックし、ショッピングカートに商品を追加します。
1. ショッピングカートに入っている商品の一覧が表示されるので、「レジへ進む」か「ショッピングを続ける」をクリックします。  
   ※ヘッダーメニュー右側のカートアイコンをクリックしても、同じページが表示されます。
1. 「レジへ進む」をクリックすると確認画面が表示されます。
1. 「注文を確定する」をクリックすると、商品が購入されます。  
   ※デモアプリのため、決済はされません。
1. ヘッダーメニュー右端のメニューアイコンをクリックし、「注文履歴」をクリックすると、過去に注文した商品を見ることができます。

### 商品の登録

![登録](https://user-images.githubusercontent.com/78861708/119820458-735ef000-bf2c-11eb-915b-46768ca9accd.gif)

1. ヘッダーメニュー右端のメニューアイコンをクリックし、「商品登録」をクリックすると、登録画面に移動できます。
1. 必要事項を入力し、「商品情報を登録」をクリックすると、商品情報が登録されます。
1. トップメニューに先ほど登録した商品が追加されています。

### 商品の編集

![編集](https://user-images.githubusercontent.com/78861708/119820659-af925080-bf2c-11eb-8a1c-ef4906a15905.gif)

1. 商品右下のメニューアイコンをクリックし、「編集する」をクリックすると編集画面に移動できます。
1. 編集したい箇所を編集し、「商品を登録」をクリックすると、商品情報が登録されます。  
   ※変更内容を表示に反映するためには再度ページを読み込む必要があります。

### ISR と SSR

![getServerSideProps](https://user-images.githubusercontent.com/78861708/119820874-e9635700-bf2c-11eb-926d-c00a9024b660.gif)

本アプリは Firestore からのデータの取得に Next.JS の ISR を使用しているため、商品の編集を行った際にはページを再度読み込む必要があります。  
しかし、SSR を用いれば、ページ遷移の速度は遅くなりますが、ページの再読み込みをせずに変更内容を表示に反映させることができます。  
SSR を用いたバージョンは[コチラ](https://ec-site-demo-bbyjr58ue-ken2122.vercel.app/)です。  
ソースコードは"server-side"ブランチをご参照願います。
